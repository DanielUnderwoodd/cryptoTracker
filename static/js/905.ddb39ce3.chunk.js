"use strict";(self.webpackChunksample1=self.webpackChunksample1||[]).push([[905],{3905:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var s=n(5861),r=n(4942),c=n(5671),i=n(3144),a=n(136),o=n(4876),h=n(7757),u=n.n(h),p=n(2791),d=[{name:function(){function e(t){(0,c.Z)(this,e),this.price=(Math.round(100*t.p)/100).toFixed(3)}return(0,i.Z)(e,[{key:"getData",value:function(){return this.price}}]),e}(),type:"aggTrade",property:"price"},{name:function(){function e(t){(0,c.Z)(this,e),this.percent=t.P}return(0,i.Z)(e,[{key:"getData",value:function(){return this.percent}}]),e}(),type:"24hrTicker",property:"percent"}],l=n(3504),f=n(2677),Z=n(9140),g=n(2579),m=n(184);function x(){return(0,m.jsxs)(f.Z,{children:[(0,m.jsxs)(Z.Z,{className:"coin-card",bg:"Secondary",children:[(0,m.jsxs)(Z.Z.Header,{children:[" ",(0,m.jsx)(g.Z,{height:100,style:{width:"100%"}})]}),(0,m.jsxs)(Z.Z.Body,{style:{paddingTop:0},children:[(0,m.jsx)(Z.Z.Title,{children:(0,m.jsx)(g.Z,{height:24})}),(0,m.jsxs)(Z.Z.Title,{children:[" ",(0,m.jsx)(g.Z,{height:20})]})]})]})," ",(0,m.jsx)("br",{})]})}var y=n(7322),j=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,c.Z)(this,n),(s=t.call(this)).state={price:0,percent:0,dataEntry:d,pathname:"/coin/"+e.coin,ws:new WebSocket("wss://stream.binance.com:9443/ws")},s}return(0,i.Z)(n,[{key:"setSegment",value:function(e,t){var n=e.name,s=e.property,c=new n(t);this.setState((0,r.Z)({},s,c.getData()))}},{key:"componentWillUnmount",value:function(){this.state.ws.close(),console.log("closing..")}},{key:"WebSocket",value:function(){var e=this,t=this.state.ws,n={method:"SUBSCRIBE",params:["".concat(this.props.coin.toLowerCase(),"usdt@aggTrade"),"".concat(this.props.coin.toLowerCase(),"usdt@ticker")],id:1};t.onopen=function(){console.log("connected"),t.send(JSON.stringify(n))},t.onclose=function(){console.log("disconnected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.state.dataEntry.forEach((function(t){n.e===t.type&&e.setSegment(t,n)}))}}},{key:"componentDidMount",value:function(){var e=(0,s.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.WebSocket();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,m.jsxs)(f.Z,{children:[(0,m.jsxs)(Z.Z,{border:this.state.percent<0?"danger":"success",className:this.state.percent<0?"coin-card coin-card-danger":"coin-card coin-card-success",children:[(0,m.jsx)(Z.Z.Header,{children:this.props.coin.toUpperCase()}),(0,m.jsxs)(Z.Z.Body,{children:[(0,m.jsx)(Z.Z.Title,{children:this.state.price}),(0,m.jsx)(Z.Z.Title,{children:this.state.percent+"%"}),(0,m.jsxs)(l.rU,{to:this.state.pathname,children:[" ",(0,m.jsx)(y.Bqb,{className:"arrow-navigation"})]})]})]})," ",(0,m.jsx)("br",{})]});return(0,m.jsx)(m.Fragment,{children:this.state.price?e:(0,m.jsx)(x,{})})}}]),n}(p.Component)}}]);
//# sourceMappingURL=905.ddb39ce3.chunk.js.map